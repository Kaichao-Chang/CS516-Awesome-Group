{% extends "base.html" %}

{% block content %}

<h1>Change Password</h1>

<form action="" method="post" novalidate>     <!-- I added the following for "password" -->
    {{ form.hidden_tag() }}
    <p>
        Currnet Password<br/>
        {{ form.curr_pwd(size=32) }}<br/>
        {% for error in form.curr_pwd.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>
        New Password<br/>
        {{ form.new_pwd(size=32) }}<br/>
        {% for error in form.new_pwd.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>
        Retype Password<br/>
        {{ form.retype_pwd(size=32) }}<br/>
        {% for error in form.retype_pwd.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <ul>
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}
    </p>
    {{ form.submit(class_="btn btn-black") }}
    <a class="btn btn-info" href="{{ url_for('users.account') }}" role="button">Back to my account</a>
</form>

{% endblock %}